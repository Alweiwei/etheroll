(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{227:function(e){e.exports={"betsize.betsize":"Monto de la apuesta","chanceofwinning.chanceofwinning":"Probabilidades de ganar","coinfliprecap.flip-head-with-a-wager":"","container.no-account-connected":"No cuenta disponible, con\xe9ctese con una wallet compatible con Web3 como {metamaskLink}","container.place-your-bet":"Haz tu apuesta","contractinfo.account":"Cuenta ({accountBalance} ETH)","contractinfo.contract":"Contrato ({contractBalance} ETH)","contractinfo.not-connected":"No conectado, inicie sesi\xf3n con MetaMask","flipbutton.text":"","headers.navsections.navlink.about":"","headers.navsections.navlink.coin-flip":"Cara o cruz","headers.navsections.navlink.home":"","merged-log.transaction":"Transaccion:","merged-log.wallet":"Cuenta:","rollunderrecap.for-a-profit-of":"","rollunderrecap.roll-under":"","rollunderrecap.with-a-wager-of":"Monto de la apuesta","transactions-filter-buttons.all-transactions":"Todas las transacciones","transactions-filter-buttons.my-transactions":"Mis transacciones"}},228:function(e){e.exports={"betsize.betsize":"Montant du pari","chanceofwinning.chanceofwinning":"Probabilit\xe9 de gagner","coinfliprecap.flip-head-with-a-wager":"Mise de {betSize} sur Face pour un profit de {profit}","container.no-account-connected":"Aucun compte connect\xe9, connectez vous avec un wallet compatible Web3 tel que {metamaskLink}","container.place-your-bet":"Placez votre pari","contractinfo.account":"Compte ({accountBalance} ETH)","contractinfo.contract":"Contrat ({contractBalance} ETH)","contractinfo.not-connected":"Non connect\xe9, connectez-vous avec MetaMask","flipbutton.text":"","headers.navsections.navlink.about":"\xc0 propos","headers.navsections.navlink.coin-flip":"Pile ou Face","headers.navsections.navlink.home":"","merged-log.transaction":"Transaction :","merged-log.wallet":"Compte :","rollunderrecap.for-a-profit-of":"","rollunderrecap.roll-under":"","rollunderrecap.with-a-wager-of":"Montant du pari","transactions-filter-buttons.all-transactions":"Toutes les transactions","transactions-filter-buttons.my-transactions":"Mes transactions"}},233:function(e,t,a){e.exports=a(549)},260:function(e,t,a){},269:function(e,t,a){},274:function(e,t,a){},281:function(e,t){},352:function(e,t,a){},375:function(e,t){},377:function(e,t){},440:function(e,t){},549:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(89),s=a.n(c),o=a(554),i=a(227),l=a(228),u=a(137);var m=function(){u.a.initialize("UA-130594569-1"),u.a.pageview(window.location.pathname+window.location.search)},d=a(229),p=a(90);var f=function(){d.init({dsn:"https://597204e062cc4579b44d28fe32273301@sentry.io/1337196",release:p.a})},b=(a(260),a(262),a(264),a(267),a(556)),y=(a(269),a(555)),v=a(557),g=function(){return r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("i",{className:"fas fa-dice-d20"})," Etheroll")},E=function(){return r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))},w=function(){return r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{className:"nav-link",to:"/",exact:!0,activeClassName:"active"},r.a.createElement("i",{className:"fas fa-home"}),"\xa0",r.a.createElement(y.a,{id:"headers.navsections.navlink.home",defaultMessage:"Home"}),r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{className:"nav-link",to:"/coin-flip",activeClassName:"active"},r.a.createElement("i",{className:"fas fa-coins"}),"\xa0",r.a.createElement(y.a,{id:"headers.navsections.navlink.coin-flip",defaultMessage:"Flip a coin"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://github.com/AndreMiras/etheroll",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github-alt"}),"\xa0",r.a.createElement(y.a,{id:"headers.navsections.navlink.about",defaultMessage:"About"})))))},h=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},r.a.createElement(g,null),r.a.createElement(E,null),r.a.createElement(w,null)))};a(274);var k=function(){return r.a.createElement("footer",{className:"Footers d-none d-md-block"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"Copyright (c) 2018 Andre Miras - Etheroll v",p.a)))},N=a(22),x=a(29),M=a(30),C=a(53),B=a(51),P=a(72),T=a(54),S=a(550),A=a(11);function z(e){var t=e.classType,a=e.message;return a?r.a.createElement("div",{className:"alert alert-".concat(t),role:"alert"},a):null}z.defaultProps={classType:"primary",message:null};var D=z,O=function(e){var t=e.accountAddress,a=e.rollUnder,n=e.contract,r=e.betSize,c=Object(A.toWei)(r.toString(),"ether");n.web3Contract.methods.playerRollDice(a).send({from:t,value:c}).then(function(e){return console.log(JSON.stringify(e))})},F=a(231),W=a.n(F);a(350);function H(e){var t=e.value,a=e.updateValue,n=e.step,c=e.min,s=e.max,o=e.addonText,i=e.toFixedDigits,l=null!==o?r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text text-monospace"},o)):null,u=null===i?t:t.toFixed(i);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-group col-sm-3 col-lg-2"},r.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){return a(Number(e.target.value))},value:u}),l),r.a.createElement("div",{className:"col"},r.a.createElement(W.a,{onChange:a,value:t,step:n,min:c,max:s})))}H.defaultProps={step:1,min:0,max:100,addonText:null,toFixedDigits:null};var V=H;function j(e){var t=e.betSize,a=e.min,n=e.max,c=e.updateBetSize;return r.a.createElement("div",{className:"form-group"},r.a.createElement("b",null,r.a.createElement(y.a,{id:"betsize.betsize",defaultMessage:"Bet size"})),r.a.createElement(V,{value:t,updateValue:c,step:.05,min:a,max:n,addonText:"ETH",toFixedDigits:2}))}j.defaultProps={min:0,max:10};var L=j,R=a(552),I=a(553),U=function(e){var t=e.isDisabled,a=e.onClick,n=e.text;return r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg col-md-3",disabled:t,onClick:a},n)};function _(e){var t=e.isDisabled,a=e.onClick,n=Object(R.defineMessages)({text:{id:"flipbutton.text",defaultMessage:"Flip Head"}}),c=Object(I.a)();return r.a.createElement(U,{text:c.formatMessage(n.text),isDisabled:t,onClick:a})}U.defaultProps={isDisabled:!1},_.defaultProps={isDisabled:!1};var G,J,Q=_,q=[{constant:!1,inputs:[{name:"newCallbackGasPrice",type:"uint256"}],name:"ownerSetCallbackGasPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalWeiWon",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxProfitAsPercentOfHouse",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newHouseEdge",type:"uint256"}],name:"ownerSetHouseEdge",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"payoutsPaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newTreasury",type:"address"}],name:"ownerSetTreasury",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"},{name:"proof",type:"bytes"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"addressToCheck",type:"address"}],name:"playerGetPendingTxByAddress",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newContractBalanceInWei",type:"uint256"}],name:"ownerUpdateContractBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfitDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newPayoutStatus",type:"bool"}],name:"ownerPausePayouts",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"ownerChangeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMaxProfitAsPercent",type:"uint256"}],name:"ownerSetMaxProfitAsPercentOfHouse",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"treasury",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalWeiWagered",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMinimumBet",type:"uint256"}],name:"ownerSetMinBet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newStatus",type:"bool"}],name:"ownerPauseGame",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"gasForOraclize",outputs:[{name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sendTo",type:"address"},{name:"amount",type:"uint256"}],name:"ownerTransferEther",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contractBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBet",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"playerWithdrawPendingTransactions",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBets",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"randomQueryID",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gamePaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"originalPlayerBetId",type:"bytes32"},{name:"sendTo",type:"address"},{name:"originalPlayerProfit",type:"uint256"},{name:"originalPlayerBetValue",type:"uint256"}],name:"ownerRefundPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newSafeGasToOraclize",type:"uint32"}],name:"ownerSetOraclizeSafeGas",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"ownerkill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"houseEdge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"rollUnder",type:"uint256"}],name:"playerRollDice",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"houseEdgeDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxPendingPayouts",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RewardValue",type:"uint256"},{indexed:!1,name:"ProfitValue",type:"uint256"},{indexed:!1,name:"BetValue",type:"uint256"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"RandomQueryID",type:"uint256"}],name:"LogBet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"ResultSerialNumber",type:"uint256"},{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"DiceResult",type:"uint256"},{indexed:!1,name:"Value",type:"uint256"},{indexed:!1,name:"Status",type:"int256"},{indexed:!1,name:"Proof",type:"bytes"}],name:"LogResult",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RefundValue",type:"uint256"}],name:"LogRefund",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"SentToAddress",type:"address"},{indexed:!0,name:"AmountTransferred",type:"uint256"}],name:"LogOwnerTransfer",type:"event"}],$=Object.freeze({mainnet:1,morden:2,ropsten:3}),K=(G={},Object(N.a)(G,$.mainnet,"0xA52e014B3f5Cc48287c2D483A3E026C32cc76E6d"),Object(N.a)(G,$.ropsten,"0xe12c6dEb59f37011d2D9FdeC77A6f1A8f3B8B1e8"),G),X=(J={},Object(N.a)(J,$.mainnet,"https://etherscan.io"),Object(N.a)(J,$.ropsten,"https://ropsten.etherscan.io"),J);function Y(e,t){if(0===t)return 0;var a=function(e,t){return 100/t*e}(e,t),n=.99*a;return Math.max(n-e,0)}var Z=function(){function e(t,a){Object(x.a)(this,e),this.web3=t,this.address=a,this.abi=q,this.web3Contract=new t.eth.Contract(q,a)}return Object(M.a)(e,[{key:"getTransactionLogs",value:function(e){var t=this;this.web3.eth.getBlockNumber(function(a,n){if(a)console.log(a);else{var r={address:t.address,fromBlock:n-100,toBlock:n};t.web3Contract.getPastEvents("allEvents",r,e)}})}},{key:"getMergedTransactionLogs",value:function(e){this.getTransactionLogs(function(t,a){if(t)console.log(t);else{var n=function(e,t){var a=function(e){return t.find(function(t){return t.returnValues.BetID===e.returnValues.BetID})};return e.map(function(e){return{logBetEvent:e,logResultEvent:a(e)}})}(a.filter(function(e){return"LogBet"===e.event}),a.filter(function(e){return"LogResult"===e.event}));e(t,n)}})}}]),e}();var ee=function(e){var t=e.betSize,a=Y(t,50);return r.a.createElement("p",null,r.a.createElement(y.a,{id:"coinfliprecap.flip-head-with-a-wager",defaultMessage:"Flip Head with a wager of {betSize} for a profit of {profit}",values:{betSize:t.toFixed(2),profit:a.toFixed(2)}}))};var te=function(e){var t=e.address,a=e.network,n="".concat(X[a],"/address/").concat(t);return r.a.createElement("a",{href:n,className:"text-monospace"},t)};var ae=function(e){var t=e.hash,a=e.network,n="".concat(X[a],"/tx/").concat(t);return r.a.createElement("a",{href:n},t)};function ne(e){var t=e.network,a=e.mergedLog,n=a.logBetEvent,c=a.logResultEvent,s=Number(n.returnValues.PlayerNumber),o="?",i="?",l="secondary";if("undefined"!==typeof c){var u=Number(c.returnValues.DiceResult);i=u<51?"Head":"Tail";var m=u<s;o=(c.returnValues.Value*Math.pow(10,-18)).toFixed(2),l=m?"success":"danger"}return r.a.createElement("div",{className:"row d-inline-flex list-group-item list-group-item-".concat(l)},r.a.createElement("div",{className:"col-sm-2 d-block"},r.a.createElement("h3",null,i)),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"w-100"},o,"\xa0 ETH"),r.a.createElement("div",{className:"w-100"},r.a.createElement(y.a,{id:"merged-log.wallet",defaultMessage:"Wallet:"}),"\xa0",r.a.createElement(te,{address:n.returnValues.PlayerAddress.toString(),network:t})),r.a.createElement("div",{className:"w-100"},r.a.createElement(y.a,{id:"merged-log.transaction",defaultMessage:"Transaction:"}),"\xa0",r.a.createElement(ae,{hash:n.transactionHash,network:t}))))}var re=function(e){var t=e.onClick;return r.a.createElement("nav",{className:"nav"},r.a.createElement("button",{type:"button",className:"btn btn-link active",onClick:function(){return t("#all-transactions")}},r.a.createElement(y.a,{id:"transactions-filter-buttons.all-transactions",defaultMessage:"All transactions"})),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return t("#my-transactions")}},r.a.createElement(y.a,{id:"transactions-filter-buttons.my-transactions",defaultMessage:"My transactions"})))};var ce=function(e){var t=e.network,a=e.onClick,n=e.transactions.filter(function(e){return 51===Number(e.logBetEvent.returnValues.PlayerNumber)}).slice().reverse().map(function(e){return r.a.createElement(ne,{key:e.logBetEvent.transactionHash,network:t,mergedLog:e})});return r.a.createElement("div",{className:"card transactions"},r.a.createElement("div",{className:"card-header"},r.a.createElement(re,{onClick:a})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"list-group"},n)))};function se(e){var t=e.accountAddress,a=e.betSize,c=e.contract,s=e.filterTransactions,o=e.filteredTransactions,i=e.minBet,l=e.maxBet,u=e.network,m=e.updateState,d={accountAddress:t,rollUnder:51,contract:c,betSize:a},p=null===t;return r.a.createElement(n.Fragment,null,r.a.createElement(L,{betSize:a,min:i,max:l,updateBetSize:m("betSize")}),r.a.createElement(ee,{betSize:a}),r.a.createElement(Q,{isDisabled:p,onClick:function(){return O(d)}}),r.a.createElement(ce,{network:u,onClick:function(e){return s(e)},transactions:o}))}se.defaultProps={accountAddress:null,contract:null};var oe=se;function ie(e){var t=e.accountAddress,a=e.accountBalance,n=e.contractAddress,c=e.contractBalance,s=e.network,o=r.a.createElement(te,{network:s,address:n}),i=r.a.createElement("div",{className:"col-12 d-none d-sm-block"},r.a.createElement("i",{className:"far fa-file-code"}),"\xa0",r.a.createElement(y.a,{id:"contractinfo.contract",defaultMessage:"Contract ({contractBalance} ETH)",values:{contractBalance:c.toFixed(2)}})),l=r.a.createElement("div",{className:"col-12 d-none d-sm-block"},o),u=null!==t?r.a.createElement(te,{network:s,address:t}):r.a.createElement("span",null,r.a.createElement(y.a,{id:"contractinfo.not-connected",defaultMessage:"Not connected, please login to MetaMask"})),m=r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("i",{className:"far fa-user"}),"\xa0",r.a.createElement(y.a,{id:"contractinfo.account",defaultMessage:"Account ({accountBalance} ETH)",values:{accountBalance:a.toFixed(2)}})),d=r.a.createElement("div",{className:"col-12"},u);return r.a.createElement("div",{className:"row"},m,d,i,l)}ie.defaultProps={accountAddress:null};var le=ie;a(352);function ue(e){var t=e.chances,a=e.min,n=e.max,c=e.updateChances;return r.a.createElement("div",{className:"form-group"},r.a.createElement("b",null,r.a.createElement(y.a,{id:"chanceofwinning.chanceofwinning",defaultMessage:"Chance of winning"})),r.a.createElement(V,{value:t,min:a,max:n,updateValue:c,addonText:"\xa0%\xa0"}))}ue.defaultProps={min:0,max:100};var me=ue;var de=function(e){var t=e.betSize,a=e.value,n=Y(t,a-1);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",null,r.a.createElement(y.a,{id:"rollunderrecap.roll-under",defaultMessage:"Roll under"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",{className:"text-right"},a)),r.a.createElement("div",{className:"col-6"},r.a.createElement(y.a,{id:"rollunderrecap.with-a-wager-of",defaultMessage:"With a wager of"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"text-right mb-0"},t.toFixed(2),"\xa0 ETH")),r.a.createElement("div",{className:"col-6"},r.a.createElement(y.a,{id:"rollunderrecap.for-a-profit-of",defaultMessage:"For a profit of"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"text-right"},n.toFixed(2),"\xa0 ETH")))},pe=function(e){var t=e.isDisabled,a=e.onClick,n=e.text;return r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg col-md-3",disabled:t,onClick:a},n)};function fe(e){var t=e.isDisabled,a=e.onClick;return r.a.createElement(pe,{text:"Roll",isDisabled:t,onClick:a})}pe.defaultProps={isDisabled:!1},fe.defaultProps={isDisabled:!1};var be=fe;function ye(e){var t=e.network,a=e.mergedLog,n=a.logBetEvent,c=a.logResultEvent,s=Number(n.returnValues.PlayerNumber),o="?",i="?",l="?",u="secondary";if("undefined"!==typeof c){var m=(i=Number(c.returnValues.DiceResult))<s;o=(c.returnValues.Value*Math.pow(10,-18)).toFixed(2),l=m?"<":">",u=m?"success":"danger"}return r.a.createElement("div",{className:"row d-inline-flex list-group-item list-group-item-".concat(u)},r.a.createElement("div",{className:"col-sm-2 d-block"},r.a.createElement("h3",null,i)),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"w-100"},o,"\xa0 ETH"),r.a.createElement("div",{className:"w-100"},i,"\xa0",l,"\xa0",s),r.a.createElement("div",{className:"w-100"},r.a.createElement(y.a,{id:"merged-log.wallet",defaultMessage:"Wallet:"}),"\xa0",r.a.createElement(te,{address:n.returnValues.PlayerAddress.toString(),network:t})),r.a.createElement("div",{className:"w-100"},r.a.createElement(y.a,{id:"merged-log.transaction",defaultMessage:"Transaction:"}),"\xa0",r.a.createElement(ae,{hash:n.transactionHash,network:t}))))}function ve(e){var t=e.onClick;return r.a.createElement("nav",{className:"nav"},r.a.createElement("button",{type:"button",className:"btn btn-link active",onClick:function(){return t("#all-transactions")}},r.a.createElement(y.a,{id:"transactions-filter-buttons.all-transactions",defaultMessage:"All transactions"})),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return t("#my-transactions")}},r.a.createElement(y.a,{id:"transactions-filter-buttons.my-transactions",defaultMessage:"My transactions"})))}var ge=function(e){var t=e.network,a=e.onClick,n=e.transactions.slice().reverse().map(function(e){return r.a.createElement(ye,{key:e.logBetEvent.transactionHash,network:t,mergedLog:e})});return r.a.createElement("div",{className:"card transactions"},r.a.createElement("div",{className:"card-header"},r.a.createElement(ve,{onClick:a})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"list-group"},n)))};function Ee(e){var t=e.accountAddress,a=e.betSize,n=e.chances,c=e.contract,s=e.filterTransactions,o=e.filteredTransactions,i=e.minBet,l=e.maxBet,u=e.minChances,m=e.maxChances,d=e.network,p=e.updateState,f=n+1,b={accountAddress:t,rollUnder:f,contract:c,betSize:a},y=null===t;return r.a.createElement("div",null,r.a.createElement("form",{className:"RollUnder"},r.a.createElement(L,{betSize:a,min:i,max:l,updateBetSize:p("betSize")}),r.a.createElement(me,{chances:n,min:u,max:m,updateChances:p("chances")}),r.a.createElement(de,{value:f,betSize:a}),r.a.createElement(be,{isDisabled:y,onClick:function(){return O(b)}})),r.a.createElement(ge,{network:d,onClick:function(e){return s(e)},transactions:o}))}Ee.defaultProps={accountAddress:null,contract:null};var we=Ee,he=function(){return r.a.createElement("a",{href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer"},"Meta Mask")},ke=a(50),Ne=a.n(ke),xe=a(232),Me=a(136),Ce=a.n(Me),Be=new Promise(function(e,t){window.addEventListener("load",Object(xe.a)(Ne.a.mark(function a(){var n;return Ne.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=12;break}return n=new Ce.a(window.ethereum),a.prev=2,a.next=5,window.ethereum.enable();case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.error(a.t0);case 10:a.next=13;break;case 12:window.web3?n=new Ce.a(window.web3.currentProvider):t(new Error("Non-Ethereum browser detected. Is MetaMask running?"));case 13:e({web3:n});case 15:case"end":return a.stop()}},a,null,[[2,7]])})))}),Pe=function(e,t,a){a({classType:e,message:t})},Te=function(e,t){e("undefined"===typeof t?"Can't fetch contract info.":t)},Se=function(e,t,a,n){return function(r,c){if(r){t("Can't retrieve accounts.")}else{var s=0===c.length?null:c[0];null!==s&&e.eth.getBalance(s,function(e,t){return function(a,n){a||null===n?e("Can't fetch account balance."):t(Number(Object(A.fromWei)(n,"ether")))}}(t,n)),a(s)}}},Ae=function(e,t,a,n,r){var c=a.slice();"#my-transactions"===t&&(c=a.filter(function(t){return t.logBetEvent.returnValues.PlayerAddress.toLowerCase()===e.toLowerCase()})),n(c),r(t)},ze=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(C.a)(this,Object(B.a)(t).call(this,e))).state={alertDict:{},betSize:.1,chances:50,minBet:L.defaultProps.min,maxBet:L.defaultProps.max,minChances:me.defaultProps.min,maxChances:me.defaultProps.max,accountAddress:null,accountBalance:0,network:$.mainnet,contract:null,contractAddress:K[$.mainnet],contractBalance:0,allTransactions:[],filteredTransactions:[],transactionsFilter:"#all-transactions"},a.onWeb3=a.onWeb3.bind(Object(P.a)(a)),a.updateState=a.updateState.bind(Object(P.a)(a)),a.initWeb3(),a}return Object(T.a)(t,e),Object(M.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.getTransactionsIntervalId)}},{key:"onWeb3",value:function(e){var t=this;e.eth.net.getId().then(function(a){var n,r=K[a],c=new Z(e,r),s=t.showWarningMessage,o=t.updateState,i=t.state,l=i.transactionsFilter,u=i.accountAddress,m=function(){return function(e,t,a,n,r,c){e.getMergedTransactionLogs(function(e,s){if(e)console.log(e);else{var o=s;n(o),Ae(t,a,o,r,c)}})}(c,u,l,o("allTransactions"),o("filteredTransactions"),o("transactionsFilter"))};t.getTransactionsIntervalId=setInterval(function(){return m()},1e4),m(),t.setState({network:a,contract:c,contractAddress:r}),c.web3Contract.methods.minBet().call(function(e,t){return function(a,n){a?Te(e):t(Number(Object(A.fromWei)(n,"ether")))}}(s,o("minBet"))),c.web3Contract.methods.minNumber().call(function(e,t){return function(a,n){a?Te(e):t(n-1)}}(s,o("minChances"))),c.web3Contract.methods.maxNumber().call(function(e,t){return function(a,n){a?Te(e):t(n-1)}}(s,o("maxChances"))),e.eth.getBalance(r,(n=o("contractBalance"),function(e,t){e||null===t?Te("Can't fetch contract balance."):n(Number(Object(A.fromWei)(t,"ether")))})),e.eth.getAccounts(Se(e,s,o("accountAddress"),o("accountBalance")))})}},{key:"initWeb3",value:function(){var e=this;Be.then(function(t){var a=t.web3;e.onWeb3(a)},function(){var t=r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{id:"container.no-account-connected",defaultMessage:"No account connected, connect with a Web3-compatible wallet like {metamaskLink}",values:{metamaskLink:r.a.createElement(he,null)}}));Pe("danger",t,e.updateState("alertDict"))})}},{key:"showWarningMessage",value:function(e){Pe("warning",e,this.updateState("alertDict"))}},{key:"updateState",value:function(e){var t=this;return function(a){t.setState(Object(N.a)({},e,a))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.alertDict,n=t.accountAddress,c=t.accountBalance,s=t.allTransactions,o=t.betSize,i=t.chances,l=t.contract,u=t.contractAddress,m=t.contractBalance,d=t.filteredTransactions,p=t.maxBet,f=t.minBet,b=t.maxChances,v=t.minChances,g=t.network,E=t.transactionsFilter,w={accountAddress:n,betSize:o,chances:i,contract:l,filteredTransactions:d,transactionsFilter:E,maxBet:p,minBet:f,maxChances:b,minChances:v,network:g,updateState:this.updateState,filterTransactions:function(t){return Ae(n,t,s,e.updateState("filteredTransactions"),e.updateState("transactionsFilter"))}},h={accountAddress:n,accountBalance:c,contractAddress:u,contractBalance:m,network:g};return r.a.createElement("div",{className:"container"},r.a.createElement(D,{classType:a.classType,message:a.message}),r.a.createElement(le,h),r.a.createElement("h2",null,r.a.createElement(y.a,{id:"container.place-your-bet",defaultMessage:"Place your bet",description:"Place your bet title"})),r.a.createElement(S.a,{path:"/",exact:!0,render:function(){return r.a.createElement(we,w)}}),r.a.createElement(S.a,{path:"/coin-flip",render:function(){return r.a.createElement(oe,w)}}))}}]),t}(r.a.Component),De=function(){return r.a.createElement(b.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(ze,null),r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m(),f();var Oe={en:null,es:i,fr:l},Fe=navigator.language.split(/[-_]/)[0];s.a.render(r.a.createElement(o.a,{locale:Fe,messages:Oe[Fe]},r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e){e.exports={a:"2020.01.03"}}},[[233,2,1]]]);
//# sourceMappingURL=main.763c6124.chunk.js.map