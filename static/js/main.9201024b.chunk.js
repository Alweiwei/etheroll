(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{229:function(e){e.exports={"betsize.betsize":"Monto de la apuesta","chanceofwinning.chanceofwinning":"Probabilidades de ganar","coinfliprecap.flip-head-with-a-wager":"","container.no-account-connected":"No cuenta disponible, con\xe9ctese con una wallet compatible con Web3 como {metamaskLink}","container.place-your-bet":"Haz tu apuesta","contractinfo.account":"Cuenta ({accountBalance} ETH)","contractinfo.contract":"Contrato ({contractBalance} ETH)","contractinfo.not-connected":"No conectado, inicie sesi\xf3n con MetaMask","flipbutton.text":"","headers.navsections.navlink.about":"","headers.navsections.navlink.coin-flip":"Cara o cruz","headers.navsections.navlink.home":"","merged-log.transaction":"Transaccion:","merged-log.wallet":"Cuenta:","rollunderrecap.for-a-profit-of":"","rollunderrecap.roll-under":"","rollunderrecap.with-a-wager-of":"Monto de la apuesta","transactions-filter-buttons.all-transactions":"Todas las transacciones","transactions-filter-buttons.my-transactions":"Mis transacciones"}},230:function(e){e.exports={"betsize.betsize":"Montant du pari","chanceofwinning.chanceofwinning":"Probabilit\xe9 de gagner","coinfliprecap.flip-head-with-a-wager":"Mise de {betSize} sur Face pour un profit de {profit}","container.no-account-connected":"Aucun compte connect\xe9, connectez vous avec un wallet compatible Web3 tel que {metamaskLink}","container.place-your-bet":"Placez votre pari","contractinfo.account":"Compte ({accountBalance} ETH)","contractinfo.contract":"Contrat ({contractBalance} ETH)","contractinfo.not-connected":"Non connect\xe9, connectez-vous avec MetaMask","flipbutton.text":"","headers.navsections.navlink.about":"\xc0 propos","headers.navsections.navlink.coin-flip":"Pile ou Face","headers.navsections.navlink.home":"","merged-log.transaction":"Transaction :","merged-log.wallet":"Compte :","rollunderrecap.for-a-profit-of":"Pour un profit de","rollunderrecap.roll-under":"","rollunderrecap.with-a-wager-of":"Montant du pari","transactions-filter-buttons.all-transactions":"Toutes les transactions","transactions-filter-buttons.my-transactions":"Mes transactions"}},234:function(e,t,a){e.exports=a(550)},261:function(e,t,a){},270:function(e,t,a){},275:function(e,t,a){},282:function(e,t){},353:function(e,t,a){},376:function(e,t){},378:function(e,t){},441:function(e,t){},550:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(90),o=a.n(c),s=a(138);var i=function(){s.a.initialize("UA-130594569-1"),s.a.pageview(window.location.pathname+window.location.search)},l=a(228),u=a(91);var m=function(){l.init({dsn:"https://597204e062cc4579b44d28fe32273301@sentry.io/1337196",release:u.a})},d=a(53),p=r.a.createContext(),f=function(e){var t=e.children,a=r.a.useState("en"),n=Object(d.a)(a,2),c=n[0],o=n[1];return r.a.createElement(p.Provider,{value:[c,o]},t)},b=(a(261),a(263),a(265),a(268),a(555)),y=a(557),v=(a(270),a(556)),E=a(558),g={en:null,es:a(229),fr:a(230)},w=Object.keys(g),h=function(e){var t=e.text,a=e.onClick;return r.a.createElement("button",{className:"dropdown-item",type:"button",onClick:function(){return a(t)}},t)},k=function(e){var t=e.items,a=e.onClick;return r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},t.map(function(e){return r.a.createElement(h,{text:e,onClick:a,key:e})}))},N=function(){var e=r.a.useContext(p),t=Object(d.a)(e,2),a=t[0],n=t[1];return r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("button",{className:"nav-link btn button-link dropdown-toggle",id:"navbarDropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",type:"button"},r.a.createElement("i",{className:"fas fa-flag"}),"\xa0",a.toUpperCase()),r.a.createElement(k,{items:w,onClick:function(e){return n(e)}}))},x=function(){return r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("i",{className:"fas fa-dice-d20"})," Etheroll")},M=function(){return r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))},C=function(){return r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.a,{className:"nav-link",to:"/",exact:!0,activeClassName:"active"},r.a.createElement("i",{className:"fas fa-home"}),"\xa0",r.a.createElement(v.a,{id:"headers.navsections.navlink.home",defaultMessage:"Home"}),r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.a,{className:"nav-link",to:"/coin-flip",activeClassName:"active"},r.a.createElement("i",{className:"fas fa-coins"}),"\xa0",r.a.createElement(v.a,{id:"headers.navsections.navlink.coin-flip",defaultMessage:"Flip a coin"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://github.com/AndreMiras/etheroll",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github-alt"}),"\xa0",r.a.createElement(v.a,{id:"headers.navsections.navlink.about",defaultMessage:"About"}))),r.a.createElement(N,null)))},B=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},r.a.createElement(x,null),r.a.createElement(M,null),r.a.createElement(C,null)))};a(275);var P=function(){return r.a.createElement("footer",{className:"Footers d-none d-md-block"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"Copyright (c) 2018 Andre Miras - Etheroll v",u.a)))},T=a(22),S=a(29),A=a(30),z=a(55),D=a(51),O=a(73),F=a(54),W=a(551),j=a(11);function H(e){var t=e.classType,a=e.message;return a?r.a.createElement("div",{className:"alert alert-".concat(t),role:"alert"},a):null}H.defaultProps={classType:"primary",message:null};var V=H,L=function(e){var t=e.accountAddress,a=e.rollUnder,n=e.contract,r=e.betSize,c=Object(j.toWei)(r.toString(),"ether");n.web3Contract.methods.playerRollDice(a).send({from:t,value:c}).then(function(e){return console.log(JSON.stringify(e))})},R=a(232),I=a.n(R);a(351);function U(e){var t=e.value,a=e.updateValue,n=e.step,c=e.min,o=e.max,s=e.addonText,i=e.toFixedDigits,l=null!==s?r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text text-monospace"},s)):null,u=null===i?t:t.toFixed(i);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-group col-sm-3 col-lg-2"},r.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){return a(Number(e.target.value))},value:u}),l),r.a.createElement("div",{className:"col"},r.a.createElement(I.a,{onChange:a,value:t,step:n,min:c,max:o})))}U.defaultProps={step:1,min:0,max:100,addonText:null,toFixedDigits:null};var G=U;function _(e){var t=e.betSize,a=e.min,n=e.max,c=e.updateBetSize;return r.a.createElement("div",{className:"form-group"},r.a.createElement("b",null,r.a.createElement(v.a,{id:"betsize.betsize",defaultMessage:"Bet size"})),r.a.createElement(G,{value:t,updateValue:c,step:.05,min:a,max:n,addonText:"ETH",toFixedDigits:2}))}_.defaultProps={min:0,max:10};var J=_,Q=a(553),q=a(554),$=function(e){var t=e.isDisabled,a=e.onClick,n=e.text;return r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg col-md-3",disabled:t,onClick:a},n)};function K(e){var t=e.isDisabled,a=e.onClick,n=Object(Q.defineMessages)({text:{id:"flipbutton.text",defaultMessage:"Flip Head"}}),c=Object(q.a)();return r.a.createElement($,{text:c.formatMessage(n.text),isDisabled:t,onClick:a})}$.defaultProps={isDisabled:!1},K.defaultProps={isDisabled:!1};var X,Y,Z=K,ee=[{constant:!1,inputs:[{name:"newCallbackGasPrice",type:"uint256"}],name:"ownerSetCallbackGasPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalWeiWon",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxProfitAsPercentOfHouse",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newHouseEdge",type:"uint256"}],name:"ownerSetHouseEdge",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"payoutsPaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newTreasury",type:"address"}],name:"ownerSetTreasury",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"},{name:"proof",type:"bytes"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"addressToCheck",type:"address"}],name:"playerGetPendingTxByAddress",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newContractBalanceInWei",type:"uint256"}],name:"ownerUpdateContractBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfitDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newPayoutStatus",type:"bool"}],name:"ownerPausePayouts",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"ownerChangeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMaxProfitAsPercent",type:"uint256"}],name:"ownerSetMaxProfitAsPercentOfHouse",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"treasury",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalWeiWagered",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMinimumBet",type:"uint256"}],name:"ownerSetMinBet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newStatus",type:"bool"}],name:"ownerPauseGame",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"gasForOraclize",outputs:[{name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sendTo",type:"address"},{name:"amount",type:"uint256"}],name:"ownerTransferEther",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contractBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBet",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"playerWithdrawPendingTransactions",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBets",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"randomQueryID",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gamePaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"originalPlayerBetId",type:"bytes32"},{name:"sendTo",type:"address"},{name:"originalPlayerProfit",type:"uint256"},{name:"originalPlayerBetValue",type:"uint256"}],name:"ownerRefundPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newSafeGasToOraclize",type:"uint32"}],name:"ownerSetOraclizeSafeGas",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"ownerkill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"houseEdge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"rollUnder",type:"uint256"}],name:"playerRollDice",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"houseEdgeDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxPendingPayouts",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RewardValue",type:"uint256"},{indexed:!1,name:"ProfitValue",type:"uint256"},{indexed:!1,name:"BetValue",type:"uint256"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"RandomQueryID",type:"uint256"}],name:"LogBet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"ResultSerialNumber",type:"uint256"},{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"DiceResult",type:"uint256"},{indexed:!1,name:"Value",type:"uint256"},{indexed:!1,name:"Status",type:"int256"},{indexed:!1,name:"Proof",type:"bytes"}],name:"LogResult",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RefundValue",type:"uint256"}],name:"LogRefund",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"SentToAddress",type:"address"},{indexed:!0,name:"AmountTransferred",type:"uint256"}],name:"LogOwnerTransfer",type:"event"}],te=Object.freeze({mainnet:1,morden:2,ropsten:3}),ae=(X={},Object(T.a)(X,te.mainnet,"0xA52e014B3f5Cc48287c2D483A3E026C32cc76E6d"),Object(T.a)(X,te.ropsten,"0xe12c6dEb59f37011d2D9FdeC77A6f1A8f3B8B1e8"),X),ne=(Y={},Object(T.a)(Y,te.mainnet,"https://etherscan.io"),Object(T.a)(Y,te.ropsten,"https://ropsten.etherscan.io"),Y);function re(e,t){if(0===t)return 0;var a=function(e,t){return 100/t*e}(e,t),n=.99*a;return Math.max(n-e,0)}var ce=function(){function e(t,a){Object(S.a)(this,e),this.web3=t,this.address=a,this.abi=ee,this.web3Contract=new t.eth.Contract(ee,a)}return Object(A.a)(e,[{key:"getTransactionLogs",value:function(e){var t=this;this.web3.eth.getBlockNumber(function(a,n){if(a)console.log(a);else{var r={address:t.address,fromBlock:n-100,toBlock:n};t.web3Contract.getPastEvents("allEvents",r,e)}})}},{key:"getMergedTransactionLogs",value:function(e){this.getTransactionLogs(function(t,a){if(t)console.log(t);else{var n=function(e,t){var a=function(e){return t.find(function(t){return t.returnValues.BetID===e.returnValues.BetID})};return e.map(function(e){return{logBetEvent:e,logResultEvent:a(e)}})}(a.filter(function(e){return"LogBet"===e.event}),a.filter(function(e){return"LogResult"===e.event}));e(t,n)}})}}]),e}();var oe=function(e){var t=e.betSize,a=re(t,50);return r.a.createElement("p",null,r.a.createElement(v.a,{id:"coinfliprecap.flip-head-with-a-wager",defaultMessage:"Flip Head with a wager of {betSize} for a profit of {profit}",values:{betSize:t.toFixed(2),profit:a.toFixed(2)}}))};var se=function(e){var t=e.address,a=e.network,n="".concat(ne[a],"/address/").concat(t);return r.a.createElement("a",{href:n,className:"text-monospace"},t)};var ie=function(e){var t=e.hash,a=e.network,n="".concat(ne[a],"/tx/").concat(t);return r.a.createElement("a",{href:n},t)};function le(e){var t=e.network,a=e.mergedLog,n=a.logBetEvent,c=a.logResultEvent,o=Number(n.returnValues.PlayerNumber),s="?",i="?",l="secondary";if("undefined"!==typeof c){var u=Number(c.returnValues.DiceResult);i=u<51?"Head":"Tail";var m=u<o;s=(c.returnValues.Value*Math.pow(10,-18)).toFixed(2),l=m?"success":"danger"}return r.a.createElement("div",{className:"row d-inline-flex list-group-item list-group-item-".concat(l)},r.a.createElement("div",{className:"col-sm-2 d-block"},r.a.createElement("h3",null,i)),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"w-100"},s,"\xa0 ETH"),r.a.createElement("div",{className:"w-100"},r.a.createElement(v.a,{id:"merged-log.wallet",defaultMessage:"Wallet:"}),"\xa0",r.a.createElement(se,{address:n.returnValues.PlayerAddress.toString(),network:t})),r.a.createElement("div",{className:"w-100"},r.a.createElement(v.a,{id:"merged-log.transaction",defaultMessage:"Transaction:"}),"\xa0",r.a.createElement(ie,{hash:n.transactionHash,network:t}))))}var ue=function(e){var t=e.onClick;return r.a.createElement("nav",{className:"nav"},r.a.createElement("button",{type:"button",className:"btn btn-link active",onClick:function(){return t("#all-transactions")}},r.a.createElement(v.a,{id:"transactions-filter-buttons.all-transactions",defaultMessage:"All transactions"})),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return t("#my-transactions")}},r.a.createElement(v.a,{id:"transactions-filter-buttons.my-transactions",defaultMessage:"My transactions"})))};var me=function(e){var t=e.network,a=e.onClick,n=e.transactions.filter(function(e){return 51===Number(e.logBetEvent.returnValues.PlayerNumber)}).slice().reverse().map(function(e){return r.a.createElement(le,{key:e.logBetEvent.transactionHash,network:t,mergedLog:e})});return r.a.createElement("div",{className:"card transactions"},r.a.createElement("div",{className:"card-header"},r.a.createElement(ue,{onClick:a})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"list-group"},n)))};function de(e){var t=e.accountAddress,a=e.betSize,c=e.contract,o=e.filterTransactions,s=e.filteredTransactions,i=e.minBet,l=e.maxBet,u=e.network,m=e.updateState,d={accountAddress:t,rollUnder:51,contract:c,betSize:a},p=null===t;return r.a.createElement(n.Fragment,null,r.a.createElement(J,{betSize:a,min:i,max:l,updateBetSize:m("betSize")}),r.a.createElement(oe,{betSize:a}),r.a.createElement(Z,{isDisabled:p,onClick:function(){return L(d)}}),r.a.createElement(me,{network:u,onClick:function(e){return o(e)},transactions:s}))}de.defaultProps={accountAddress:null,contract:null};var pe=de;function fe(e){var t=e.accountAddress,a=e.accountBalance,n=e.contractAddress,c=e.contractBalance,o=e.network,s=r.a.createElement(se,{network:o,address:n}),i=r.a.createElement("div",{className:"col-12 d-none d-sm-block"},r.a.createElement("i",{className:"far fa-file-code"}),"\xa0",r.a.createElement(v.a,{id:"contractinfo.contract",defaultMessage:"Contract ({contractBalance} ETH)",values:{contractBalance:c.toFixed(2)}})),l=r.a.createElement("div",{className:"col-12 d-none d-sm-block"},s),u=null!==t?r.a.createElement(se,{network:o,address:t}):r.a.createElement("span",null,r.a.createElement(v.a,{id:"contractinfo.not-connected",defaultMessage:"Not connected, please login to MetaMask"})),m=r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("i",{className:"far fa-user"}),"\xa0",r.a.createElement(v.a,{id:"contractinfo.account",defaultMessage:"Account ({accountBalance} ETH)",values:{accountBalance:a.toFixed(2)}})),d=r.a.createElement("div",{className:"col-12"},u);return r.a.createElement("div",{className:"row"},m,d,i,l)}fe.defaultProps={accountAddress:null};var be=fe;a(353);function ye(e){var t=e.chances,a=e.min,n=e.max,c=e.updateChances;return r.a.createElement("div",{className:"form-group"},r.a.createElement("b",null,r.a.createElement(v.a,{id:"chanceofwinning.chanceofwinning",defaultMessage:"Chance of winning"})),r.a.createElement(G,{value:t,min:a,max:n,updateValue:c,addonText:"\xa0%\xa0"}))}ye.defaultProps={min:0,max:100};var ve=ye;var Ee=function(e){var t=e.betSize,a=e.value,n=re(t,a-1);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",null,r.a.createElement(v.a,{id:"rollunderrecap.roll-under",defaultMessage:"Roll under"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",{className:"text-right"},a)),r.a.createElement("div",{className:"col-6"},r.a.createElement(v.a,{id:"rollunderrecap.with-a-wager-of",defaultMessage:"With a wager of"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"text-right mb-0"},t.toFixed(2),"\xa0 ETH")),r.a.createElement("div",{className:"col-6"},r.a.createElement(v.a,{id:"rollunderrecap.for-a-profit-of",defaultMessage:"For a profit of"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"text-right"},n.toFixed(2),"\xa0 ETH")))},ge=function(e){var t=e.isDisabled,a=e.onClick,n=e.text;return r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg col-md-3",disabled:t,onClick:a},n)};function we(e){var t=e.isDisabled,a=e.onClick;return r.a.createElement(ge,{text:"Roll",isDisabled:t,onClick:a})}ge.defaultProps={isDisabled:!1},we.defaultProps={isDisabled:!1};var he=we;function ke(e){var t=e.network,a=e.mergedLog,n=a.logBetEvent,c=a.logResultEvent,o=Number(n.returnValues.PlayerNumber),s="?",i="?",l="?",u="secondary";if("undefined"!==typeof c){var m=(i=Number(c.returnValues.DiceResult))<o;s=(c.returnValues.Value*Math.pow(10,-18)).toFixed(2),l=m?"<":">",u=m?"success":"danger"}return r.a.createElement("div",{className:"row d-inline-flex list-group-item list-group-item-".concat(u)},r.a.createElement("div",{className:"col-sm-2 d-block"},r.a.createElement("h3",null,i)),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"w-100"},s,"\xa0 ETH"),r.a.createElement("div",{className:"w-100"},i,"\xa0",l,"\xa0",o),r.a.createElement("div",{className:"w-100"},r.a.createElement(v.a,{id:"merged-log.wallet",defaultMessage:"Wallet:"}),"\xa0",r.a.createElement(se,{address:n.returnValues.PlayerAddress.toString(),network:t})),r.a.createElement("div",{className:"w-100"},r.a.createElement(v.a,{id:"merged-log.transaction",defaultMessage:"Transaction:"}),"\xa0",r.a.createElement(ie,{hash:n.transactionHash,network:t}))))}function Ne(e){var t=e.onClick;return r.a.createElement("nav",{className:"nav"},r.a.createElement("button",{type:"button",className:"btn btn-link active",onClick:function(){return t("#all-transactions")}},r.a.createElement(v.a,{id:"transactions-filter-buttons.all-transactions",defaultMessage:"All transactions"})),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return t("#my-transactions")}},r.a.createElement(v.a,{id:"transactions-filter-buttons.my-transactions",defaultMessage:"My transactions"})))}var xe=function(e){var t=e.network,a=e.onClick,n=e.transactions.slice().reverse().map(function(e){return r.a.createElement(ke,{key:e.logBetEvent.transactionHash,network:t,mergedLog:e})});return r.a.createElement("div",{className:"card transactions"},r.a.createElement("div",{className:"card-header"},r.a.createElement(Ne,{onClick:a})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"list-group"},n)))};function Me(e){var t=e.accountAddress,a=e.betSize,n=e.chances,c=e.contract,o=e.filterTransactions,s=e.filteredTransactions,i=e.minBet,l=e.maxBet,u=e.minChances,m=e.maxChances,d=e.network,p=e.updateState,f=n+1,b={accountAddress:t,rollUnder:f,contract:c,betSize:a},y=null===t;return r.a.createElement("div",null,r.a.createElement("form",{className:"RollUnder"},r.a.createElement(J,{betSize:a,min:i,max:l,updateBetSize:p("betSize")}),r.a.createElement(ve,{chances:n,min:u,max:m,updateChances:p("chances")}),r.a.createElement(Ee,{value:f,betSize:a}),r.a.createElement(he,{isDisabled:y,onClick:function(){return L(b)}})),r.a.createElement(xe,{network:d,onClick:function(e){return o(e)},transactions:s}))}Me.defaultProps={accountAddress:null,contract:null};var Ce=Me,Be=function(){return r.a.createElement("a",{href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer"},"Meta Mask")},Pe=a(50),Te=a.n(Pe),Se=a(233),Ae=a(137),ze=a.n(Ae),De=new Promise(function(e,t){window.addEventListener("load",Object(Se.a)(Te.a.mark(function a(){var n;return Te.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=12;break}return n=new ze.a(window.ethereum),a.prev=2,a.next=5,window.ethereum.enable();case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.error(a.t0);case 10:a.next=13;break;case 12:window.web3?n=new ze.a(window.web3.currentProvider):t(new Error("Non-Ethereum browser detected. Is MetaMask running?"));case 13:e({web3:n});case 15:case"end":return a.stop()}},a,null,[[2,7]])})))}),Oe=function(e,t,a){a({classType:e,message:t})},Fe=function(e,t){e("undefined"===typeof t?"Can't fetch contract info.":t)},We=function(e,t,a,n){return function(r,c){if(r){t("Can't retrieve accounts.")}else{var o=0===c.length?null:c[0];null!==o&&e.eth.getBalance(o,function(e,t){return function(a,n){a||null===n?e("Can't fetch account balance."):t(Number(Object(j.fromWei)(n,"ether")))}}(t,n)),a(o)}}},je=function(e,t,a,n,r){var c=a.slice();"#my-transactions"===t&&(c=a.filter(function(t){return t.logBetEvent.returnValues.PlayerAddress.toLowerCase()===e.toLowerCase()})),n(c),r(t)},He=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(z.a)(this,Object(D.a)(t).call(this,e))).state={alertDict:{},betSize:.1,chances:50,minBet:J.defaultProps.min,maxBet:J.defaultProps.max,minChances:ve.defaultProps.min,maxChances:ve.defaultProps.max,accountAddress:null,accountBalance:0,network:te.mainnet,contract:null,contractAddress:ae[te.mainnet],contractBalance:0,allTransactions:[],filteredTransactions:[],transactionsFilter:"#all-transactions"},a.onWeb3=a.onWeb3.bind(Object(O.a)(a)),a.updateState=a.updateState.bind(Object(O.a)(a)),a.initWeb3(),a}return Object(F.a)(t,e),Object(A.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.getTransactionsIntervalId)}},{key:"onWeb3",value:function(e){var t=this;e.eth.net.getId().then(function(a){var n,r=ae[a],c=new ce(e,r),o=t.showWarningMessage,s=t.updateState,i=t.state,l=i.transactionsFilter,u=i.accountAddress,m=function(){return function(e,t,a,n,r,c){e.getMergedTransactionLogs(function(e,o){if(e)console.log(e);else{var s=o;n(s),je(t,a,s,r,c)}})}(c,u,l,s("allTransactions"),s("filteredTransactions"),s("transactionsFilter"))};t.getTransactionsIntervalId=setInterval(function(){return m()},1e4),m(),t.setState({network:a,contract:c,contractAddress:r}),c.web3Contract.methods.minBet().call(function(e,t){return function(a,n){a?Fe(e):t(Number(Object(j.fromWei)(n,"ether")))}}(o,s("minBet"))),c.web3Contract.methods.minNumber().call(function(e,t){return function(a,n){a?Fe(e):t(n-1)}}(o,s("minChances"))),c.web3Contract.methods.maxNumber().call(function(e,t){return function(a,n){a?Fe(e):t(n-1)}}(o,s("maxChances"))),e.eth.getBalance(r,(n=s("contractBalance"),function(e,t){e||null===t?Fe("Can't fetch contract balance."):n(Number(Object(j.fromWei)(t,"ether")))})),e.eth.getAccounts(We(e,o,s("accountAddress"),s("accountBalance")))})}},{key:"initWeb3",value:function(){var e=this;De.then(function(t){var a=t.web3;e.onWeb3(a)},function(){var t=r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{id:"container.no-account-connected",defaultMessage:"No account connected, connect with a Web3-compatible wallet like {metamaskLink}",values:{metamaskLink:r.a.createElement(Be,null)}}));Oe("danger",t,e.updateState("alertDict"))})}},{key:"showWarningMessage",value:function(e){Oe("warning",e,this.updateState("alertDict"))}},{key:"updateState",value:function(e){var t=this;return function(a){t.setState(Object(T.a)({},e,a))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.alertDict,n=t.accountAddress,c=t.accountBalance,o=t.allTransactions,s=t.betSize,i=t.chances,l=t.contract,u=t.contractAddress,m=t.contractBalance,d=t.filteredTransactions,p=t.maxBet,f=t.minBet,b=t.maxChances,y=t.minChances,E=t.network,g=t.transactionsFilter,w={accountAddress:n,betSize:s,chances:i,contract:l,filteredTransactions:d,transactionsFilter:g,maxBet:p,minBet:f,maxChances:b,minChances:y,network:E,updateState:this.updateState,filterTransactions:function(t){return je(n,t,o,e.updateState("filteredTransactions"),e.updateState("transactionsFilter"))}},h={accountAddress:n,accountBalance:c,contractAddress:u,contractBalance:m,network:E};return r.a.createElement("div",{className:"container"},r.a.createElement(V,{classType:a.classType,message:a.message}),r.a.createElement(be,h),r.a.createElement("h2",null,r.a.createElement(v.a,{id:"container.place-your-bet",defaultMessage:"Place your bet",description:"Place your bet title"})),r.a.createElement(W.a,{path:"/",exact:!0,render:function(){return r.a.createElement(Ce,w)}}),r.a.createElement(W.a,{path:"/coin-flip",render:function(){return r.a.createElement(pe,w)}}))}}]),t}(r.a.Component),Ve=function(){var e=r.a.useContext(p),t=Object(d.a)(e,1)[0];return r.a.createElement(y.a,null,r.a.createElement(b.a,{locale:t,messages:g[t]},r.a.createElement("div",{className:"App"},r.a.createElement(B,null),r.a.createElement(He,null),r.a.createElement(P,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i(),m(),o.a.render(r.a.createElement(f,null,r.a.createElement(Ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},91:function(e){e.exports={a:"2020.03.07"}}},[[234,2,1]]]);
//# sourceMappingURL=main.9201024b.chunk.js.map