(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},244:function(e,t,a){"use strict";a.r(t);var n,s,i=a(0),o=a.n(i),u=a(49),r=a.n(u),l=(a(104),a(73),a(107),a(12)),c=a(13),p=a(15),m=a(14),y=a(16),d=(a(109),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},o.a.createElement("a",{className:"navbar-brand",href:"/"},o.a.createElement("i",{className:"fas fa-dice-d20"})," Etheroll"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item active"},o.a.createElement("a",{className:"nav-link",href:"/"},o.a.createElement("i",{className:"fas fa-home"})," Home ",o.a.createElement("span",{className:"sr-only"},"(current)"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"https://github.com/AndreMiras/etheroll"},o.a.createElement("i",{className:"fab fa-github-alt"})," About"))))))}}]),t}(i.Component)),b=(a(111),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",{className:"Footers d-sm-none d-md-block"},o.a.createElement("div",{className:"container"},o.a.createElement("span",{className:"text-muted"},"Copyright (c) 2018 Andre Miras")))}}]),t}(i.Component)),f=a(21),v=(a(113),a(97)),w=a.n(v),h=(a(179),a(98)),E=a.n(h),g=new Promise(function(e,t){window.addEventListener("load",function(){var t;"undefined"!==typeof window&&"undefined"!==typeof window.web3?(t={web3:new E.a(window.web3.currentProvider)},console.log("Injected web3 detected."),e(t)):console.log("Is MetaMask running?")})}),k=[{constant:!1,inputs:[{name:"newCallbackGasPrice",type:"uint256"}],name:"ownerSetCallbackGasPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalWeiWon",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxProfitAsPercentOfHouse",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newHouseEdge",type:"uint256"}],name:"ownerSetHouseEdge",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"payoutsPaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newTreasury",type:"address"}],name:"ownerSetTreasury",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"},{name:"proof",type:"bytes"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"addressToCheck",type:"address"}],name:"playerGetPendingTxByAddress",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newContractBalanceInWei",type:"uint256"}],name:"ownerUpdateContractBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfitDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newPayoutStatus",type:"bool"}],name:"ownerPausePayouts",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"ownerChangeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMaxProfitAsPercent",type:"uint256"}],name:"ownerSetMaxProfitAsPercentOfHouse",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"treasury",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalWeiWagered",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMinimumBet",type:"uint256"}],name:"ownerSetMinBet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newStatus",type:"bool"}],name:"ownerPauseGame",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"gasForOraclize",outputs:[{name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sendTo",type:"address"},{name:"amount",type:"uint256"}],name:"ownerTransferEther",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contractBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBet",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"playerWithdrawPendingTransactions",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBets",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"randomQueryID",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gamePaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"originalPlayerBetId",type:"bytes32"},{name:"sendTo",type:"address"},{name:"originalPlayerProfit",type:"uint256"},{name:"originalPlayerBetValue",type:"uint256"}],name:"ownerRefundPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newSafeGasToOraclize",type:"uint32"}],name:"ownerSetOraclizeSafeGas",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"ownerkill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"houseEdge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"rollUnder",type:"uint256"}],name:"playerRollDice",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"houseEdgeDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxPendingPayouts",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RewardValue",type:"uint256"},{indexed:!1,name:"ProfitValue",type:"uint256"},{indexed:!1,name:"BetValue",type:"uint256"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"RandomQueryID",type:"uint256"}],name:"LogBet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"ResultSerialNumber",type:"uint256"},{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"DiceResult",type:"uint256"},{indexed:!1,name:"Value",type:"uint256"},{indexed:!1,name:"Status",type:"int256"},{indexed:!1,name:"Proof",type:"bytes"}],name:"LogResult",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RefundValue",type:"uint256"}],name:"LogRefund",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"SentToAddress",type:"address"},{indexed:!0,name:"AmountTransferred",type:"uint256"}],name:"LogOwnerTransfer",type:"event"}],M=Object.freeze({mainnet:1,morden:2,ropsten:3}),N=(n={},Object(f.a)(n,M.mainnet,"0xA52e014B3f5Cc48287c2D483A3E026C32cc76E6d"),Object(f.a)(n,M.ropsten,"0xe12c6dEb59f37011d2D9FdeC77A6f1A8f3B8B1e8"),n),x=(s={},Object(f.a)(s,M.mainnet,"https://etherscan.io"),Object(f.a)(s,M.ropsten,"https://ropsten.etherscan.io"),s);function P(e){var t=N[e.version.network];return e.eth.contract(k).at(t)}function O(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-3 col-lg-2"},o.a.createElement("input",{type:"number",className:"form-control",onChange:function(t){return e.updateValue(Number(t.target.value))},value:e.value})),o.a.createElement("div",{className:"col"},o.a.createElement(w.a,{onChange:e.updateValue,value:e.value,step:e.step,max:e.max})))}function C(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Bet size"),o.a.createElement(O,{value:e.betSize,updateValue:e.updateBetSize,step:.1,max:10}))}function S(e){return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Chance of winning"),o.a.createElement(O,{value:e.chances,updateValue:e.updateChances}))}function j(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("h3",null,"Roll under")),o.a.createElement("div",{className:"col"},o.a.createElement("h3",{className:"roll-under-value"},e.value)))}function B(e){return o.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg",onClick:e.onClick},e.text)}function A(e){return o.a.createElement(B,{text:"Roll",onClick:e.onClick})}function R(e){var t=x[e.network]+"/tx/"+e.hash;return o.a.createElement("a",{href:t},e.hash)}function T(e){var t=x[e.network]+"/address/"+e.address;return o.a.createElement("a",{href:t},e.address)}function z(e){return o.a.createElement("span",null,"Wallet: ",o.a.createElement(T,{network:e.network,address:e.address}))}function D(e){return o.a.createElement("span",null,"Contract: ",o.a.createElement(T,{network:e.network,address:e.address}))}function W(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(D,{network:e.network,address:e.contractAddress})),o.a.createElement("div",{className:"col"},o.a.createElement(z,{network:e.network,address:e.account})))}function I(e){if(0===e.transactions.length)return o.a.createElement("span",null);var t=e.transactions.map(function(t,a){return o.a.createElement("li",{key:a,className:"list-group-item"},o.a.createElement(R,{network:e.network,hash:t}))});return o.a.createElement("div",{className:"card transactions"},o.a.createElement("div",{className:"card-header"},"Transactions"),o.a.createElement("div",{className:"card-body"},o.a.createElement("ul",{className:"list-group"},t)))}var V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).updateState=function(e){return function(t){return a.setState(Object(f.a)({},e,t))}},a.state={betSize:.1,chances:50,accounts:null,account:null,web3:null,network:M.mainnet,contract:N[M.mainnet],roll_transactions:[]},a}return Object(y.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getWeb3()}},{key:"onRollClick",value:function(){var e=this,t=this.state.web3,a=this.state.account,n=this.state.betSize,s=t.toWei(n.toString(),"ether");this.state.contract.playerRollDice(51,{from:a,value:s},function(t,a){if(t)console.error(t);else{console.log(JSON.stringify(a));var n=e.state.roll_transactions.slice();n.push(a),e.setState({roll_transactions:n})}})}},{key:"getWeb3",value:function(){var e=this;g.then(function(t){var a=t.web3,n=P(a);e.setState({web3:a,network:a.version.network,contract:n,contractAddress:n.address}),a.eth.getAccounts(function(t,a){t&&console.log(t),e.setState({accounts:a,account:a[0]})})})}},{key:"render",value:function(){var e=this,t=this.state.chances+1;return o.a.createElement("div",null,o.a.createElement(W,{contractAddress:this.state.contractAddress,network:this.state.network,account:this.state.account}),o.a.createElement("form",{className:"PlaceBet"},o.a.createElement("h2",null,"Place your bet"),o.a.createElement(C,{betSize:this.state.betSize,updateBetSize:this.updateState("betSize")}),o.a.createElement(S,{chances:this.state.chances,updateChances:this.updateState("chances")}),o.a.createElement(j,{value:t}),o.a.createElement(A,{onClick:function(){return e.onRollClick()}})),o.a.createElement(I,{network:this.state.network,transactions:this.state.roll_transactions}))}}]),t}(o.a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d,null),o.a.createElement("div",{className:"container"},o.a.createElement(V,null)),o.a.createElement(b,null))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,a){e.exports=a(244)}},[[99,2,1]]]);
//# sourceMappingURL=main.b47c3c9e.chunk.js.map