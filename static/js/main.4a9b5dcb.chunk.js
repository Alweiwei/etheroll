(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(289)},125:function(e,t,a){},134:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},201:function(e,t){},203:function(e,t){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(52),o=a.n(i);a(125),a(127),a(129),a(132),a(134);var r=function(){return s.a.createElement("header",null,s.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},s.a.createElement("a",{className:"navbar-brand",href:"/"},s.a.createElement("i",{className:"fas fa-dice-d20"}),"\xa0Etheroll"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},s.a.createElement("ul",{className:"navbar-nav mr-auto"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{className:"nav-link",href:"/"},s.a.createElement("i",{className:"fas fa-home"}),"\xa0Home",s.a.createElement("span",{className:"sr-only"},"(current)"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"https://github.com/AndreMiras/etheroll"},s.a.createElement("i",{className:"fab fa-github-alt"}),"\xa0About"))))))};a(136);var l=function(){return s.a.createElement("footer",{className:"Footers d-none d-md-block"},s.a.createElement("div",{className:"container"},s.a.createElement("span",{className:"text-muted"},"Copyright (c) 2018 Andre Miras")))},u=a(20),c=a(113),p=a(114),m=a(118),y=a(115),d=a(119),b=(a(138),a(116)),f=a.n(b),v=new Promise(function(e,t){window.addEventListener("load",function(){var a;"undefined"!==typeof window&&"undefined"!==typeof window.web3?(a=new f.a(window.web3.currentProvider),e({web3:a})):t(new Error("Is MetaMask running?"))})});function w(e){var t=e.classType,a=e.message;return a?s.a.createElement("div",{className:"alert alert-".concat(t),role:"alert"},a):null}w.defaultProps={classType:"primary",message:null};var E,h,g=w,k=[{constant:!1,inputs:[{name:"newCallbackGasPrice",type:"uint256"}],name:"ownerSetCallbackGasPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalWeiWon",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxProfitAsPercentOfHouse",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newHouseEdge",type:"uint256"}],name:"ownerSetHouseEdge",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"payoutsPaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newTreasury",type:"address"}],name:"ownerSetTreasury",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"},{name:"proof",type:"bytes"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"addressToCheck",type:"address"}],name:"playerGetPendingTxByAddress",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newContractBalanceInWei",type:"uint256"}],name:"ownerUpdateContractBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfitDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newPayoutStatus",type:"bool"}],name:"ownerPausePayouts",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"ownerChangeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMaxProfitAsPercent",type:"uint256"}],name:"ownerSetMaxProfitAsPercentOfHouse",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"treasury",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalWeiWagered",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMinimumBet",type:"uint256"}],name:"ownerSetMinBet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newStatus",type:"bool"}],name:"ownerPauseGame",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"gasForOraclize",outputs:[{name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sendTo",type:"address"},{name:"amount",type:"uint256"}],name:"ownerTransferEther",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contractBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBet",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"playerWithdrawPendingTransactions",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBets",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"randomQueryID",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gamePaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"originalPlayerBetId",type:"bytes32"},{name:"sendTo",type:"address"},{name:"originalPlayerProfit",type:"uint256"},{name:"originalPlayerBetValue",type:"uint256"}],name:"ownerRefundPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newSafeGasToOraclize",type:"uint32"}],name:"ownerSetOraclizeSafeGas",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"ownerkill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"houseEdge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"rollUnder",type:"uint256"}],name:"playerRollDice",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"houseEdgeDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxPendingPayouts",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RewardValue",type:"uint256"},{indexed:!1,name:"ProfitValue",type:"uint256"},{indexed:!1,name:"BetValue",type:"uint256"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"RandomQueryID",type:"uint256"}],name:"LogBet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"ResultSerialNumber",type:"uint256"},{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"DiceResult",type:"uint256"},{indexed:!1,name:"Value",type:"uint256"},{indexed:!1,name:"Status",type:"int256"},{indexed:!1,name:"Proof",type:"bytes"}],name:"LogResult",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RefundValue",type:"uint256"}],name:"LogRefund",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"SentToAddress",type:"address"},{indexed:!0,name:"AmountTransferred",type:"uint256"}],name:"LogOwnerTransfer",type:"event"}],M=Object.freeze({mainnet:1,morden:2,ropsten:3}),N=(E={},Object(u.a)(E,M.mainnet,"0xA52e014B3f5Cc48287c2D483A3E026C32cc76E6d"),Object(u.a)(E,M.ropsten,"0xe12c6dEb59f37011d2D9FdeC77A6f1A8f3B8B1e8"),E),x=(h={},Object(u.a)(h,M.mainnet,"https://etherscan.io"),Object(u.a)(h,M.ropsten,"https://ropsten.etherscan.io"),h);function P(e){var t=N[e.version.network];return e.eth.contract(k).at(t)}var S=function(e){var t=e.address,a=e.network,n="".concat(x[a],"/address/").concat(t);return s.a.createElement("a",{href:n},t)};var C=function(e){var t=e.address,a=e.network;return s.a.createElement("span",null,"Contract:",s.a.createElement(S,{address:t,network:a}))};var B=function(e){var t=e.address,a=e.network;return s.a.createElement("span",null,"Wallet:",s.a.createElement(S,{address:t,network:a}))};function A(e){var t=e.account,a=e.contractAddress,n=e.network;return null===t?null:s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement(C,{network:n,address:a})),s.a.createElement("div",{className:"col"},s.a.createElement(B,{network:n,address:t})))}A.defaultProps={account:null};var T=A,D=a(117),O=a.n(D);a(287);function R(e){var t=e.value,a=e.updateValue,n=e.step,i=e.max;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-3 col-lg-2"},s.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){return a(Number(e.target.value))},value:t})),s.a.createElement("div",{className:"col"},s.a.createElement(O.a,{onChange:a,value:t,step:n,max:i})))}R.defaultProps={step:1,max:100};var z=R;var W=function(e){var t=e.betSize,a=e.updateBetSize;return s.a.createElement("div",{className:"form-group"},s.a.createElement("b",null,"Bet size"),s.a.createElement(z,{value:t,updateValue:a,step:.1,max:10}))};var j=function(e){var t=e.chances,a=e.updateChances;return s.a.createElement("div",{className:"form-group"},s.a.createElement("b",null,"Chance of winning"),s.a.createElement(z,{value:t,updateValue:a}))};var I=function(e){var t=e.value;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Roll under")),s.a.createElement("div",{className:"col"},s.a.createElement("h3",{className:"roll-under-value"},t)))};function V(e){var t=e.isDisabled,a=e.onClick,n=e.text;return s.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg col-md-3",disabled:t,onClick:a},n)}function G(e){var t=e.isDisabled,a=e.onClick;return s.a.createElement(V,{text:"Roll",isDisabled:t,onClick:a})}V.defaultProps={isDisabled:!1},G.defaultProps={isDisabled:!1};var H=G;function L(e){var t=e.hash,a=e.network,n="".concat(x[a],"/tx/").concat(t);return s.a.createElement("a",{href:n},t)}var _=function(e){var t=e.network,a=e.transactions;if(0===a.length)return s.a.createElement("span",null);var n=a.map(function(e){return s.a.createElement("li",{key:e,className:"list-group-item"},s.a.createElement(L,{network:t,hash:e}))});return s.a.createElement("div",{className:"card transactions"},s.a.createElement("div",{className:"card-header"},"Transactions"),s.a.createElement("div",{className:"card-body"},s.a.createElement("ul",{className:"list-group"},n)))},F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).state={betSize:.1,chances:50,account:null,web3:null,network:M.mainnet,contractAddress:N[M.mainnet],rollTransactions:[],alertDict:{}},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getWeb3()}},{key:"onRollClick",value:function(){var e=this,t=this.state,a=t.account,n=t.contract,s=t.betSize,i=t.web3.toWei(s.toString(),"ether");n.playerRollDice(51,{from:a,value:i},function(t,a){t?console.error(t):(console.log(JSON.stringify(a)),e.setState(function(e){return{rollTransactions:e.rollTransactions.concat(a)}}))})}},{key:"getWeb3",value:function(){var e=this;v.then(function(t){var a=t.web3,n=P(a);e.setState({web3:a,network:Number(a.version.network),contract:n,contractAddress:n.address}),a.eth.getAccounts(function(t,a){t&&console.log(t),e.setState({account:a[0]})})},function(t){var a={classType:"danger",message:"No account connected, connect with a Web3-compatible wallet like MetaMask"};e.setState({alertDict:a})})}},{key:"updateState",value:function(e){var t=this;return function(a){t.setState(Object(u.a)({},e,a))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.account,n=t.alertDict,i=t.betSize,o=t.chances,r=t.contractAddress,l=t.network,u=t.rollTransactions,c=o+1,p=null===t.web3;return s.a.createElement("div",null,s.a.createElement(g,{classType:n.classType,message:n.message}),s.a.createElement(T,{account:a,contractAddress:r,network:l}),s.a.createElement("form",{className:"PlaceBet"},s.a.createElement("h2",null,"Place your bet"),s.a.createElement(W,{betSize:i,updateBetSize:this.updateState("betSize")}),s.a.createElement(j,{chances:o,updateChances:this.updateState("chances")}),s.a.createElement(I,{value:c}),s.a.createElement(H,{isDisabled:p,onClick:function(){return e.onRollClick()}})),s.a.createElement(_,{network:l,transactions:u}))}}]),t}(s.a.Component);var J=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(r,null),s.a.createElement("div",{className:"container"},s.a.createElement(F,null)),s.a.createElement(l,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,2,1]]]);
//# sourceMappingURL=main.4a9b5dcb.chunk.js.map