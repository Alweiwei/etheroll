(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){e.exports=a(538)},251:function(e,t,a){},260:function(e,t,a){},263:function(e,t,a){},276:function(e,t){},298:function(e,t){},300:function(e,t){},363:function(e,t){},536:function(e,t,a){},538:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(83),i=a.n(s),c=a(130);var o=function(){c.a.initialize("UA-130594569-1"),c.a.pageview(window.location.pathname+window.location.search)},l=a(220),u=a(84);var m=function(){l.init({dsn:"https://597204e062cc4579b44d28fe32273301@sentry.io/1337196",release:u.a})},p=(a(251),a(253),a(255),a(258),a(541)),d=(a(260),a(542)),y=function(){return r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("i",{className:"fas fa-dice-d20"})," Etheroll")},b=function(){return r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"}))},f=function(){return r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.a,{className:"nav-link",to:"/",exact:!0,activeClassName:"active"},r.a.createElement("i",{className:"fas fa-home"})," Home",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.a,{className:"nav-link",to:"/coin-flip",activeClassName:"active"},r.a.createElement("i",{className:"fas fa-coins"})," Flip a coin")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://github.com/AndreMiras/etheroll",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github-alt"})," About"))))},v=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},r.a.createElement(y,null),r.a.createElement(b,null),r.a.createElement(f,null)))};a(263);var h=function(){return r.a.createElement("footer",{className:"Footers d-none d-md-block"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"Copyright (c) 2018 Andre Miras - Etheroll v",u.a)))},E=a(18),w=a(19),g=a(29),k=a(28),N=a(30),x=a(539);function C(e){var t=e.classType,a=e.message;return a?r.a.createElement("div",{className:"alert alert-".concat(t),role:"alert"},a):null}C.defaultProps={classType:"primary",message:null};var M,B,P=C,T=a(85),S=a(21),A=function(){return r.a.createElement("a",{href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer"},"Meta Mask")},O=a(51),D=a.n(O),j=a(222),W=a(129),F=a.n(W),I=new Promise(function(e,t){window.addEventListener("load",Object(j.a)(D.a.mark(function a(){var n;return D.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=12;break}return n=new F.a(window.ethereum),a.prev=2,a.next=5,window.ethereum.enable();case 5:a.next=10;break;case 7:a.prev=7,a.t0=a.catch(2),console.error(a.t0);case 10:a.next=13;break;case 12:window.web3?n=new F.a(window.web3.currentProvider):t(new Error("Non-Ethereum browser detected. Is MetaMask running?"));case 13:e({web3:n});case 15:case"end":return a.stop()}},a,null,[[2,7]])})))}),z=[{constant:!1,inputs:[{name:"newCallbackGasPrice",type:"uint256"}],name:"ownerSetCallbackGasPrice",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalWeiWon",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxProfitAsPercentOfHouse",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newHouseEdge",type:"uint256"}],name:"ownerSetHouseEdge",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"payoutsPaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newTreasury",type:"address"}],name:"ownerSetTreasury",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"myid",type:"bytes32"},{name:"result",type:"string"},{name:"proof",type:"bytes"}],name:"__callback",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"addressToCheck",type:"address"}],name:"playerGetPendingTxByAddress",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newContractBalanceInWei",type:"uint256"}],name:"ownerUpdateContractBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfitDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newPayoutStatus",type:"bool"}],name:"ownerPausePayouts",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"ownerChangeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minNumber",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMaxProfitAsPercent",type:"uint256"}],name:"ownerSetMaxProfitAsPercentOfHouse",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"treasury",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalWeiWagered",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newMinimumBet",type:"uint256"}],name:"ownerSetMinBet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newStatus",type:"bool"}],name:"ownerPauseGame",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"gasForOraclize",outputs:[{name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"sendTo",type:"address"},{name:"amount",type:"uint256"}],name:"ownerTransferEther",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"contractBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBet",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"playerWithdrawPendingTransactions",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"maxProfit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalBets",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"randomQueryID",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gamePaused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"originalPlayerBetId",type:"bytes32"},{name:"sendTo",type:"address"},{name:"originalPlayerProfit",type:"uint256"},{name:"originalPlayerBetValue",type:"uint256"}],name:"ownerRefundPlayer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newSafeGasToOraclize",type:"uint32"}],name:"ownerSetOraclizeSafeGas",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"ownerkill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"houseEdge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"rollUnder",type:"uint256"}],name:"playerRollDice",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"houseEdgeDivisor",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxPendingPayouts",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RewardValue",type:"uint256"},{indexed:!1,name:"ProfitValue",type:"uint256"},{indexed:!1,name:"BetValue",type:"uint256"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"RandomQueryID",type:"uint256"}],name:"LogBet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"ResultSerialNumber",type:"uint256"},{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!1,name:"PlayerNumber",type:"uint256"},{indexed:!1,name:"DiceResult",type:"uint256"},{indexed:!1,name:"Value",type:"uint256"},{indexed:!1,name:"Status",type:"int256"},{indexed:!1,name:"Proof",type:"bytes"}],name:"LogResult",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"BetID",type:"bytes32"},{indexed:!0,name:"PlayerAddress",type:"address"},{indexed:!0,name:"RefundValue",type:"uint256"}],name:"LogRefund",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"SentToAddress",type:"address"},{indexed:!0,name:"AmountTransferred",type:"uint256"}],name:"LogOwnerTransfer",type:"event"}],V=Object.freeze({mainnet:1,morden:2,ropsten:3}),R=(M={},Object(S.a)(M,V.mainnet,"0xA52e014B3f5Cc48287c2D483A3E026C32cc76E6d"),Object(S.a)(M,V.ropsten,"0xe12c6dEb59f37011d2D9FdeC77A6f1A8f3B8B1e8"),M),H=(B={},Object(S.a)(B,V.mainnet,"https://etherscan.io"),Object(S.a)(B,V.ropsten,"https://ropsten.etherscan.io"),B);function L(e,t){if(0===t)return 0;var a=function(e,t){return 100/t*e}(e,t),n=.99*a;return Math.max(n-e,0)}var G=function(){function e(t,a){Object(E.a)(this,e),this.web3=t,this.address=a,this.abi=z,this.web3Contract=new t.eth.Contract(z,a)}return Object(w.a)(e,[{key:"getTransactionLogs",value:function(e){var t=this;this.web3.eth.getBlockNumber(function(a,n){if(a)console.log(a);else{var r={address:t.address,fromBlock:n-100,toBlock:n};t.web3Contract.getPastEvents("allEvents",r,e)}})}},{key:"getMergedTransactionLogs",value:function(e){this.getTransactionLogs(function(t,a){if(t)console.log(t);else{var n=function(e,t){var a=function(e){return t.find(function(t){return t.returnValues.BetID===e.returnValues.BetID})};return e.map(function(e){return{logBetEvent:e,logResultEvent:a(e)}})}(a.filter(function(e){return"LogBet"===e.event}),a.filter(function(e){return"LogResult"===e.event}));e(t,n)}})}}]),e}(),U=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(k.a)(t).call(this,e))).state={},a}return Object(N.a)(t,e),Object(w.a)(t,[{key:"onRollClick",value:function(){var e=this.state,t=e.accountAddress,a=e.chances,n=e.contract,r=e.betSize,s=a+1,i=e.web3.utils.toWei(r.toString(),"ether");n.web3Contract.methods.playerRollDice(s).send({from:t,value:i}).then(function(e,t){console.log(JSON.stringify(t)),e&&console.error(e)})}},{key:"getTransactions",value:function(e,t){var a=this;e.getMergedTransactionLogs(function(e,n){if(e)console.log(e);else{var r=n,s=a.state.transactionsFilter;t({allTransactions:r}),a.filterTransactions(s,t)}})}},{key:"getWeb3",value:function(e){var t=this,a=this.props,s=a.showMessage,i=a.showWarningMessage;I.then(function(a){a.web3.eth.net.getId().then(function(n){var r=a.web3,s=R[n],c=new G(r,s);t.getTransactionsIntervalId=setInterval(function(){return t.getTransactions(c,e)},1e4),t.getTransactions(c,e),e({web3:r,network:n,contract:c,contractAddress:s}),c.web3Contract.methods.minBet().call(function(a,n){if(a)t.showFetchContractInfoWarning();else{var s=Number(r.utils.fromWei(n,"ether"));e({minBet:s})}}),c.web3Contract.methods.minNumber().call(function(a,n){a&&t.showFetchContractInfoWarning(),e({minChances:n-1})}),c.web3Contract.methods.maxNumber().call(function(a,n){a&&t.showFetchContractInfoWarning(),e({maxChances:n-1})}),r.eth.getBalance(s,function(a,n){if(a||null===n){t.showFetchContractInfoWarning("Can't fetch contract balance.")}else{var s=Number(r.utils.fromWei(n,"ether"));e({contractBalance:s})}}),r.eth.getAccounts(function(t,a){if(t){i("Can't retrieve accounts.")}else{var n=0===a.length?null:a[0];null!==n&&r.eth.getBalance(n,function(t,a){if(t||null===a){i("Can't fetch account balance.")}else{var n=Number(r.utils.fromWei(a,"ether"));e({accountBalance:n})}}),e({accountAddress:n})}})})},function(){var e=r.a.createElement(n.Fragment,null,"No account connected, connect with a Web3-compatible wallet like ",r.a.createElement(A,null));s("danger",e)})}},{key:"showFetchContractInfoWarning",value:function(e){(0,this.props.showWarningMessage)("undefined"===typeof e?"Can't fetch contract info.":e)}},{key:"filterTransactions",value:function(e,t){var a=this.state,n=a.accountAddress,r=a.allTransactions,s=r.slice();"#my-transactions"===e&&(s=r.filter(function(e){return e.logBetEvent.returnValues.PlayerAddress.toLowerCase()===n.toLowerCase()})),t({filteredTransactions:s,transactionsFilter:e})}},{key:"updateState",value:function(e){var t=this;return function(a){t.setState(Object(S.a)({},e,a))}}}]),t}(r.a.Component),_=a(223),J=a.n(_);a(534);function Q(e){var t=e.value,a=e.updateValue,n=e.step,s=e.min,i=e.max,c=e.addonText,o=e.toFixedDigits,l=null;null!==c&&(l=r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text text-monospace"},c)));var u=null===o?t:t.toFixed(o);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-group col-sm-3 col-lg-2"},r.a.createElement("input",{type:"number",className:"form-control",onChange:function(e){return a(Number(e.target.value))},value:u}),l),r.a.createElement("div",{className:"col"},r.a.createElement(J.a,{onChange:a,value:t,step:n,min:s,max:i})))}Q.defaultProps={step:1,min:0,max:100,addonText:null,toFixedDigits:null};var $=Q;function q(e){var t=e.betSize,a=e.min,n=e.max,s=e.updateBetSize;return r.a.createElement("div",{className:"form-group"},r.a.createElement("b",null,"Bet size"),r.a.createElement($,{value:t,updateValue:s,step:.05,min:a,max:n,addonText:"ETH",toFixedDigits:2}))}q.defaultProps={min:0,max:10};var K=q;function X(e){var t=e.chances,a=e.min,n=e.max,s=e.updateChances;return r.a.createElement("div",{className:"form-group"},r.a.createElement("b",null,"Chance of winning"),r.a.createElement($,{value:t,min:a,max:n,updateValue:s,addonText:"\xa0%\xa0"}))}X.defaultProps={min:0,max:100};var Y=X;var Z=function(e){var t=e.address,a=e.network,n="".concat(H[a],"/address/").concat(t);return r.a.createElement("a",{href:n,className:"text-monospace"},t)};function ee(e){var t=e.accountAddress,a=e.accountBalance,n=e.contractAddress,s=e.contractBalance,i=e.network,c=r.a.createElement(Z,{network:i,address:n}),o=r.a.createElement("div",{className:"col-12 d-none d-sm-block"},r.a.createElement("i",{className:"far fa-file-code"}),"\xa0Contract\xa0(",s.toFixed(2),"\xa0ETH)"),l=r.a.createElement("div",{className:"col-12 d-none d-sm-block"},c),u=null!==t?r.a.createElement(Z,{network:i,address:t}):r.a.createElement("span",null,"Not connected, please login to MetaMask"),m=r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("i",{className:"far fa-user"}),"\xa0Account\xa0(",a.toFixed(2),"\xa0ETH)"),p=r.a.createElement("div",{className:"col-12"},u);return r.a.createElement("div",{className:"row"},m,p,o,l)}ee.defaultProps={accountAddress:null};var te=ee,ae=function(e){var t=e.isDisabled,a=e.onClick,n=e.text;return r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg col-md-3",disabled:t,onClick:a},n)};function ne(e){var t=e.isDisabled,a=e.onClick;return r.a.createElement(ae,{text:"Flip Head",isDisabled:t,onClick:a})}ae.defaultProps={isDisabled:!1},ne.defaultProps={isDisabled:!1};var re=ne;var se=function(e){var t=e.betSize,a=L(t,50);return r.a.createElement("p",null,"Flip Head with a wager of ",t," for a profit of ",a.toFixed(2))};var ie=function(e){var t=e.hash,a=e.network,n="".concat(H[a],"/tx/").concat(t);return r.a.createElement("a",{href:n},t)};function ce(e){var t=e.network,a=e.mergedLog,n=a.logBetEvent,s=a.logResultEvent,i=Number(n.returnValues.PlayerNumber),c="?",o="?",l="secondary";if("undefined"!==typeof s){var u=Number(s.returnValues.DiceResult);o=u<51?"Head":"Tail";var m=u<i;c=(s.returnValues.Value*Math.pow(10,-18)).toFixed(2),l=m?"success":"danger"}return r.a.createElement("div",{className:"row d-inline-flex list-group-item list-group-item-".concat(l)},r.a.createElement("div",{className:"col-sm-2 d-block"},r.a.createElement("h3",null,o)),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"w-100"},c,"\xa0 ETH"),r.a.createElement("div",{className:"w-100"},"Wallet: \xa0",r.a.createElement(Z,{address:n.returnValues.PlayerAddress.toString(),network:t})),r.a.createElement("div",{className:"w-100"},"Transaction: \xa0",r.a.createElement(ie,{hash:n.transactionHash,network:t}))))}var oe=function(e){var t=e.onClick;return r.a.createElement("nav",{className:"nav"},r.a.createElement("button",{type:"button",className:"btn btn-link active",onClick:function(){return t("#all-transactions")}},"All transactions"),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return t("#my-transactions")}},"My transactions"))};var le=function(e){var t=e.network,a=e.onClick,n=e.transactions.filter(function(e){return 51===Number(e.logBetEvent.returnValues.PlayerNumber)}).slice().reverse().map(function(e){return r.a.createElement(ce,{key:e.logBetEvent.transactionHash,network:t,mergedLog:e})});return r.a.createElement("div",{className:"card transactions"},r.a.createElement("div",{className:"card-header"},r.a.createElement(oe,{onClick:a})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"list-group"},n)))},ue=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(k.a)(t).call(this,e))).state={accountBalance:0,betSize:.1,chances:50,contractAddress:R[V.mainnet],contractBalance:0,minBet:K.defaultProps.min,maxBet:K.defaultProps.max,network:V.mainnet,minChances:Y.defaultProps.min,maxChances:Y.defaultProps.max,filteredTransactions:[],transactionsFilter:"#all-transactions"},a}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getWeb3(function(t){return e.setState(t)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.getTransactionsIntervalId)}},{key:"render",value:function(){var e=this,t=this.state,a=t.betSize,s=t.accountAddress,i=t.accountBalance,c=t.contractAddress,o=t.contractBalance,l=t.filteredTransactions,u=t.minBet,m=t.maxBet,p=t.network,d={accountAddress:s,accountBalance:i,contractAddress:c,contractBalance:o,network:p},y=function(t){return e.setState(t)},b=null===s;return r.a.createElement(n.Fragment,null,r.a.createElement(te,d),r.a.createElement(K,{betSize:a,min:u,max:m,updateBetSize:this.updateState("betSize")}),r.a.createElement(se,{betSize:a}),r.a.createElement(re,{isDisabled:b,onClick:function(){return e.onRollClick()}}),r.a.createElement(le,{network:p,onClick:function(t){return e.filterTransactions(t,y)},transactions:l}))}}]),t}(U);ue.propTypes=Object(T.a)({},U.propTypes);var me=ue;a(536);var pe=function(e){var t=e.betSize,a=e.value,n=L(t,a-1);return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",null,"Roll under")),r.a.createElement("div",{className:"col-6"},r.a.createElement("h3",{className:"text-right"},a)),r.a.createElement("div",{className:"col-6"},"With a wager of"),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"text-right mb-0"},t.toFixed(2),"\xa0 ETH")),r.a.createElement("div",{className:"col-6"},"For a profit of"),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"text-right"},n.toFixed(2),"\xa0 ETH")))},de=function(e){var t=e.isDisabled,a=e.onClick,n=e.text;return r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg col-md-3",disabled:t,onClick:a},n)};function ye(e){var t=e.isDisabled,a=e.onClick;return r.a.createElement(de,{text:"Roll",isDisabled:t,onClick:a})}de.defaultProps={isDisabled:!1},ye.defaultProps={isDisabled:!1};var be=ye;function fe(e){var t=e.network,a=e.mergedLog,n=a.logBetEvent,s=a.logResultEvent,i=Number(n.returnValues.PlayerNumber),c="?",o="?",l="?",u="secondary";if("undefined"!==typeof s){var m=(o=Number(s.returnValues.DiceResult))<i;c=(s.returnValues.Value*Math.pow(10,-18)).toFixed(2),l=m?"<":">",u=m?"success":"danger"}return r.a.createElement("div",{className:"row d-inline-flex list-group-item list-group-item-".concat(u)},r.a.createElement("div",{className:"col-sm-2 d-block"},r.a.createElement("h3",null,o)),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"w-100"},c,"\xa0 ETH"),r.a.createElement("div",{className:"w-100"},o,"\xa0",l,"\xa0",i),r.a.createElement("div",{className:"w-100"},"Wallet: \xa0",r.a.createElement(Z,{address:n.returnValues.PlayerAddress.toString(),network:t})),r.a.createElement("div",{className:"w-100"},"Transaction: \xa0",r.a.createElement(ie,{hash:n.transactionHash,network:t}))))}function ve(e){var t=e.onClick;return r.a.createElement("nav",{className:"nav"},r.a.createElement("button",{type:"button",className:"btn btn-link active",onClick:function(){return t("#all-transactions")}},"All transactions"),r.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return t("#my-transactions")}},"My transactions"))}var he=function(e){var t=e.network,a=e.onClick,n=e.transactions.slice().reverse().map(function(e){return r.a.createElement(fe,{key:e.logBetEvent.transactionHash,network:t,mergedLog:e})});return r.a.createElement("div",{className:"card transactions"},r.a.createElement("div",{className:"card-header"},r.a.createElement(ve,{onClick:a})),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"list-group"},n)))},Ee=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(k.a)(t).call(this,e))).state={betSize:.1,chances:50,minBet:K.defaultProps.min,maxBet:K.defaultProps.max,minChances:Y.defaultProps.min,maxChances:Y.defaultProps.max,accountAddress:null,accountBalance:0,web3:null,network:V.mainnet,contract:null,contractAddress:R[V.mainnet],contractBalance:0,allTransactions:[],filteredTransactions:[],transactionsFilter:"#all-transactions"},a}return Object(N.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getWeb3(function(t){return e.setState(t)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.getTransactionsIntervalId)}},{key:"render",value:function(){var e=this,t=this.state,a=t.accountAddress,n=t.accountBalance,s=t.betSize,i=t.chances,c=t.contractAddress,o=t.contractBalance,l=t.filteredTransactions,u=t.minBet,m=t.maxBet,p=t.minChances,d=t.maxChances,y=t.network,b=function(t){return e.setState(t)},f=i+1,v=null===a;return r.a.createElement("div",null,r.a.createElement(te,{accountAddress:a,accountBalance:n,contractAddress:c,contractBalance:o,network:y}),r.a.createElement("form",{className:"RollUnder"},r.a.createElement("h2",null,"Place your bet"),r.a.createElement(K,{betSize:s,min:u,max:m,updateBetSize:this.updateState("betSize")}),r.a.createElement(Y,{chances:i,min:p,max:d,updateChances:this.updateState("chances")}),r.a.createElement(pe,{value:f,betSize:s}),r.a.createElement(be,{isDisabled:v,onClick:function(){return e.onRollClick()}})),r.a.createElement(he,{network:y,onClick:function(t){return e.filterTransactions(t,b)},transactions:l}))}}]),t}(U);Ee.propTypes=Object(T.a)({},U.propTypes);var we=Ee,ge=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(g.a)(this,Object(k.a)(t).call(this,e))).state={alertDict:{}},a}return Object(N.a)(t,e),Object(w.a)(t,[{key:"showMessage",value:function(e,t){var a={classType:e,message:t};this.setState({alertDict:a})}},{key:"showWarningMessage",value:function(e){this.showMessage("warning",e)}},{key:"render",value:function(){var e=this,t=this.state.alertDict,a={showMessage:function(t,a){return e.showMessage(t,a)},showWarningMessage:function(t){return e.showWarningMessage(t)}};return r.a.createElement("div",{className:"container"},r.a.createElement(P,{classType:t.classType,message:t.message}),r.a.createElement(x.a,{path:"/",exact:!0,render:function(){return r.a.createElement(we,a)}}),r.a.createElement(x.a,{path:"/coin-flip",render:function(){return r.a.createElement(me,a)}}))}}]),t}(r.a.Component),ke=function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(ge,null),r.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o(),m(),i.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e){e.exports={a:"2019.12.16"}}},[[224,2,1]]]);
//# sourceMappingURL=main.ec519a7c.chunk.js.map